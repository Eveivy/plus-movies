import{r as o,D as c,a as t,F as d,j as a,C as m,e as h,h as p}from"./index-3de461b0.js";const x=()=>{const i=o.useContext(c),[s,r]=o.useState([]),l=()=>{const e={method:"GET",headers:{accept:"application/json",Authorization:`Bearer ${i.access_token}`}};fetch(`https://api.themoviedb.org/3/movie/${i.id}/recommendations?language=en-US&page=1`,e).then(n=>n.json()).then(n=>{r(n.results)}).catch(n=>console.error(n))};return o.useEffect(()=>{l()},[]),t(d,{children:s&&s.length>0&&a(m,{className:"p-xl-4 w-100 mb-4",children:[t("div",{className:"d-flex align-items-center justify-content-between mb-5",children:t("h4",{className:"text-main font-main",children:" Recommendations"})}),t("div",{className:"d-flex align-items-center scroll-container mb-5",style:{height:"250px"},children:t("div",{className:"d-flex justify-content-between align-items-center",children:s.map(e=>a("div",{className:"rounded-3",children:[a("div",{className:"mx-2 small-card-container pointer",onClick:()=>i.getAnotherMovie(e.media_type,e.id,e.title||e.original_title),children:[e.poster_path?t("img",{className:"img rounded-3",src:`https://image.tmdb.org/t/p/w500/${e.poster_path}`,alt:e.original_title,loading:"lazy"}):t("div",{className:"bg-dark w-100 h-100 rounded-3 d-flex align-items-center justify-content-center",children:t("img",{src:h,alt:"image not found"})}),a("div",{className:"small-card-overlay text-white px-2 pb-4 pt-3 bottom-0 rounded-bottom d-flex justify-content-between align-items-end",children:[t("div",{className:"d-flex align-items-center",children:t("span",{children:e.release_date!==""&&p(e.release_date).format("L")})}),a("div",{className:"d-flex align-items-center",children:[t("span",{title:"Add to favourite",className:"d-flex align-items-center pointer ms-2",children:t("box-icon",{name:"heart",color:"#ff0088d4",size:"20px"})}),t("span",{title:"Add to watchlist",className:"d-flex align-items-center pointer ms-2",children:t("box-icon",{name:"bookmark",color:"#ff0088d4",size:"20px"})}),t("span",{title:"Rate it",className:"d-flex align-items-center pointer ms-2",children:t("box-icon",{name:"star",color:"#ff0088d4",size:"20px"})})]})]})]}),a("div",{className:"px-2 d-flex justify-content-between align-items-center text-main fs-7 pointer",children:[t("h5",{className:"text-capitalize fs-7 mb-0",children:t("span",{className:"text-decoration-none text-nowrap",children:e.title.length>25||e.original_title.length>25?(e.title||e.original_title).substring(0,25-3)+"...":e.title||e.original_title})}),a("span",{className:"d-block",children:[Math.floor(e.vote_average*10),"%"]})]})]},e.id))})})]})})};export{x as default};
